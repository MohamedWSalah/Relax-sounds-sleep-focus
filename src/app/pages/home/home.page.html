<ion-content [fullscreen]="true" class="home-content">
  <!-- Header -->
  <div class="header">
    <h1 class="app-title">Sleep Calm Sounds ðŸŒ™</h1>
  </div>

  <!-- Sound Grid -->
  <div class="sound-grid">
    @for (sound of sounds(); track sound.id) {
    <div
      class="sound-card"
      [class]="{
          'selected': sound.selected,
          'loading': sound.loading
        }"
    >
      <div class="sound-main" (click)="toggleSound(sound)">
        <div class="sound-icon">
          @if (!sound.loading) {
          <span>{{ sound.icon }}</span>
          } @if (sound.loading) {
          <ion-spinner name="crescent"></ion-spinner>
          }
        </div>
        <div class="sound-name">{{ sound.name }}</div>
      </div>

      <!-- Volume Controls (only shown when selected) -->
      @if (sound.selected) {
      <div class="volume-controls">
        <ion-range
          min="0"
          max="100"
          [value]="sound.volume * 100"
          (ionChange)="setVolume(sound, $event.detail.value)"
          color="light"
          class="volume-slider"
        >
        </ion-range>
        <ion-button
          fill="clear"
          size="small"
          shape="round"
          (click)="toggleMute(sound)"
          class="mute-button"
        >
          <ion-icon
            slot="icon-only"
            [name]="sound.muted ? 'volume-mute-outline' : 'volume-high-outline'"
          >
          </ion-icon>
        </ion-button>
      </div>
      }
    </div>
    }
  </div>

  <!-- Footer Bar -->
  <div class="footer-bar">
    <ion-button fill="clear" class="footer-button">
      <ion-icon name="time-outline" slot="start"></ion-icon>
      Sleep Timer
    </ion-button>
    <ion-button fill="clear" class="footer-button">
      <ion-icon name="settings-outline" slot="start"></ion-icon>
      Settings
    </ion-button>
  </div>
</ion-content>
